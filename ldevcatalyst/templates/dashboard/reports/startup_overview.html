{% extends 'dashboard/base.html' %}
{% load static %}


{% block page_content %}



<div class="d-flex flex-column flex-column-fluid">
    <!--begin::Content-->
    <div id="kt_app_content" class="app-content flex-column-fluid">
        <!--begin::Row-->
		<div class="card" style="padding:20px;">
			<div class="card-body">
				<h1 class="card-title">Startups Report</h1>
				<h6 class="card-subtitle mb-2 text-muted"> Total Startups count : {{counts.startup_count}}</h6>
			</div>
			<div class="row g-5 g-xl-10 mb-xl-10">
				<!-- Area of Interest Table -->
				<div class="col-lg-4">
					<div class="table-responsive">
						<table class="table table-bordered table-hover">
							<thead class="table-light">
								<tr>
									<th style="width: 8%" class="text-center">Area of Interest</th>
									<th style="width: 8%" class="text-center">Startup Count</th>
								</tr>
							</thead>
							<tbody>
								{% for item in area_of_interest_data %}
								<tr>
                                    {% comment %} <a href="{% url 'startup_registrations_cat' area_of_interest=item.area_of_interest__name %}">
                                    </a> {% endcomment %}
                                    <td> <a href="{% url 'startup_registrations_list' %}">{{ item.area_of_interest__name }}</a></td>
									<td>{{ item.startup_count }}</td>
								</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>

				<!-- District Table -->
				<div class="col-lg-4">
					<div class="table-responsive">
						<table class="table table-bordered table-hover">
							<thead class="table-light">
								<tr>
									<th style="width: 8%" class="text-center">District</th>
									<th style="width: 8%" class="text-center">Startup Count</th>
								</tr>
							</thead>
							<tbody>
								{% for item in district_data %}
								<tr>
									<td><a href="{% url 'startup_profiles_list' %}">{{ item.district__name }}</a></td>
									<td>{{ item.startup_count }}</td>
								</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>

				<!-- Funding Stage Table -->
				<div class="col-lg-4">
					<div class="table-responsive">
						<table class="table table-bordered table-hover">
							<thead class="table-light">
								<tr>
									<th style="width: 8%" class="text-center">Preferred investment stage</th>
									<th style="width: 8%" class="text-center">Startup Count</th>
								</tr>
							</thead>
							<tbody>
								{% for item in preferred_investment_stage_data %}
								<tr>
									<td><a href="{% url 'startup_registrations_list' %}">{{ item.preferred_investment_stage__name }}</a></td>
									<td>{{ item.startup_count }}</td>
								</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</br>
		<!--begin::graphs-->
		<div class="card text-center">
			<div class="card-body">
				<h1 class="card-title">Sector</h1>
			</div>
			<div class="row g-5 g-xl-10 mb-xl-10 justify-content-center">
				<div class="col-lg-4 d-flex justify-content-center">
					<canvas id="pieChart" width="400" height="400"></canvas>
				</div>
				<div class="col-lg-4 d-flex justify-content-center">
					<canvas id="barChart" width="400" height="400"></canvas>
				</div>
			</div>
		</div>
	</br>
		<!--begin::districtgraphs-->
		<div class="card text-center">
			<div class="card-body">
				<h1 class="card-title">Districts</h1>
			</div>
			<div class="row g-5 g-xl-10 mb-xl-10 justify-content-center">
				<div class="col-lg-4 d-flex justify-content-center">
					<canvas id="districtsPieChart" width="400" height="400"></canvas>
				</div>
				<div class="col-lg-4 d-flex justify-content-center">
					<canvas id="districtsBarChart" width="400" height="400"></canvas>
				</div>
			</div>
		</div>
		
	</br>
        {% comment %} <!--end::Row-->
			<!--begin::fundingstategraphs-->
			<div class="card text-center">
				<div class="card-body">
					<h1 class="card-title">Preferred investment stage</h1>
				</div>
				<div class="row g-5 g-xl-10 mb-xl-10 justify-content-center">
					<div class="col-lg-4 d-flex justify-content-center">
						<canvas id="fundingPieChart" width="400" height="400"></canvas>
					</div>
					<div class="col-lg-4 d-flex justify-content-center">
						<canvas id="fundingBarChart" width="400" height="400"></canvas>
					</div>
				</div>
			</div>
			<!--end::Row-->
		
    </div> {% endcomment %}
    <!--end::Content-->
</div>


		
{% endblock %}




{% block custom_js %}
    
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Get data for the pie chart
        var areaLabels = [];
        var areaCounts = [];
        {% for item in area_of_interest_data %}
            areaLabels.push("{{ item.area_of_interest__name }}");
            areaCounts.push("{{ item.startup_count }}");
        {% endfor %}

        // Create the pie chart
        var pieChart = new Chart(document.getElementById('pieChart'), {
            type: 'pie',
            data: {
                labels: areaLabels,
                datasets: [{
                    label: 'Area of Interest',
                    data: areaCounts,
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.8)',
                        'rgba(54, 162, 235, 0.8)',
                        'rgba(255, 206, 86, 0.8)',
                        'rgba(75, 192, 192, 0.8)',
                        'rgba(153, 102, 255, 0.8)',
                        'rgba(255, 159, 64, 0.8)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true
            }
        });
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Get data for the bar chart
        var areaLabels = [];
        var areaCounts = [];
        {% for item in area_of_interest_data %}
            areaLabels.push("{{ item.area_of_interest__name }}");
            areaCounts.push("{{ item.startup_count }}");
        {% endfor %}

        // Create the bar chart
        var barChart = new Chart(document.getElementById('barChart'), {
            type: 'bar',
            data: {
                labels: areaLabels,
                datasets: [{
                    label: 'Area of Interest',
                    data: areaCounts,
                    backgroundColor: 'rgba(54, 162, 235, 0.8)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Get data for the districts pie chart
        var districtLabels = [];
        var districtCounts = [];
        {% for item in district_data %}
            districtLabels.push("{{ item.district__name }}");
            districtCounts.push("{{ item.startup_count }}");
        {% endfor %}

        // Create the districts pie chart
        var districtsPieChart = new Chart(document.getElementById('districtsPieChart'), {
            type: 'pie',
            data: {
                labels: districtLabels,
                datasets: [{
                    label: 'Districts',
                    data: districtCounts,
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.8)',
                        'rgba(54, 162, 235, 0.8)',
                        'rgba(255, 206, 86, 0.8)',
                        'rgba(75, 192, 192, 0.8)',
                        'rgba(153, 102, 255, 0.8)',
                        'rgba(255, 159, 64, 0.8)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true
            }
        });
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Get data for the districts bar chart
        var districtLabels = [];
        var districtCounts = [];
        {% for item in district_data %}
            districtLabels.push("{{ item.district__name }}");
            districtCounts.push("{{ item.startup_count }}");
        {% endfor %}

        // Create the districts bar chart
        var districtsBarChart = new Chart(document.getElementById('districtsBarChart'), {
            type: 'bar',
            data: {
                labels: districtLabels,
                datasets: [{
                    label: 'Districts',
                    data: districtCounts,
                    backgroundColor: 'rgba(54, 162, 235, 0.8)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Get data for the funding pie chart
        var fundingLabels = [];
        var fundingCounts = [];
        {% for item in funding_stage_data %}
            fundingLabels.push("{{ item.funding_stage__name }}");
            fundingCounts.push("{{ item.startup_count }}");
        {% endfor %}

        // Create the funding pie chart
        var fundingPieChart = new Chart(document.getElementById('fundingPieChart'), {
            type: 'pie',
            data: {
                labels: fundingLabels,
                datasets: [{
                    label: 'preferred investment stage',
                    data: fundingCounts,
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.8)',
                        'rgba(54, 162, 235, 0.8)',
                        'rgba(255, 206, 86, 0.8)',
                        'rgba(75, 192, 192, 0.8)',
                        'rgba(153, 102, 255, 0.8)',
                        'rgba(255, 159, 64, 0.8)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true
            }
        });
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Get data for the funding bar chart
        var fundingLabels = [];
        var fundingCounts = [];
        {% for item in preferred_investment_stage_data %}
            fundingLabels.push("{{ item.preferred_investment_stage__name }}");
            fundingCounts.push("{{ item.startup_count }}");
        {% endfor %}

        // Create the funding bar chart
        var fundingBarChart = new Chart(document.getElementById('fundingBarChart'), {
            type: 'bar',
            data: {
                labels: fundingLabels,
                datasets: [{
                    label: 'preferred investment stage',
                    data: fundingCounts,
                    backgroundColor: 'rgba(54, 162, 235, 0.8)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    });
</script>






        
{% endblock  %}